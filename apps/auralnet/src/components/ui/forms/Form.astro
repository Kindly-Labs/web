---
interface Props {
  name: string;
  method?: 'GET' | 'POST';
  action?: string;
  netlify?: boolean;
  className?: string;
}

const {
  name,
  method = 'POST',
  action,
  netlify = false,
  className = ''
} = Astro.props;

const netlifyAttrs = netlify ? {
  'data-netlify': 'true',
  'data-netlify-honeypot': 'bot-field'
} : {};
---

<form
  name={name}
  method={method}
  action={action}
  {...netlifyAttrs}
  class:list={['form', className]}
>
  {netlify && (
    <>
      <input type="hidden" name="form-name" value={name} />
      <p class="hidden">
        <label>
          Don't fill this out if you're human: <input name="bot-field" />
        </label>
      </p>
    </>
  )}
  <slot />
</form>

<style>
  .form {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-6);
  }

  .hidden {
    display: none;
  }
</style>
